<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Malaysia Regional Economic Disparities</title>
    <link rel="stylesheet" href="style.css">
    <!-- Vega Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/vega@5.22.1"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.5.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.21.0"></script>
</head>
<body>
    <div class="container">
        <h1>Malaysia Regional Economic Disparities</h1>
        <h1> 2012 - 2022</h1>

        <hr class divider>

        <p>Created By: Yuan Yee Mun, 5 October 2025</p>

        <div class="year-selectors">
            <div class="selector-group">
                <label for="year1">Year 1:</label>
                <select id="year1">
                    <option value="2012" selected>2012</option>
                    <option value="2014">2014</option>
                    <option value="2016">2016</option>
                    <option value="2019">2019</option>
                    <option value="2022">2022</option>
                </select>
            </div>
            <div class="selector-group">
                <label for="year2">Year 2:</label>
                <select id="year2">
                    <option value="2012">2012</option>
                    <option value="2014">2014</option>
                    <option value="2016">2016</option>
                    <option value="2019">2019</option>
                    <option value="2022" selected>2022</option>
                </select>
            </div>
        </div>

        <h3>INCOME DISTRIBUTION vs UNEMPLOYMENT RATE</h3>
        
        <div class="maps-grid">
            <div class="map-cell">
                <div id="income-year1"></div>
                <p class="year-label" id="label-income-year1">2012</p>
            </div>
            <div class="map-cell">
                <div id="unemployment-year1"></div>
                <p class="year-label" id="label-unemployment-year1">2012</p>
            </div>
            <div class="map-cell">
                <div id="income-year2"></div>
                <p class="year-label" id="label-income-year2">2022</p>
            </div>
            <div class="map-cell">
                <div id="unemployment-year2"></div>
                <p class="year-label" id="label-unemployment-year2">2022</p>
            </div>
        </div>

        <script src="maps.js"></script>

        <div style="margin-top: 30px; padding: 20px; background: #f9f9f9; border-radius: 8px;">
            <div style="max-width: 800px; margin: 0 auto;">
                <p style="font-size: 23px; text-align:center;"><strong>Key Insights:</strong></p>
                <ul style="margin-left: 30px; text-align: left; color: #555; font-size: 20px; line-height: 1.8;">
                    <li style="margin-bottom: 15px;">
                        Income and unemployment are core indicators of regional economic health<br>
                        states with high income and low unemployment have diversified economies,<br>
                        while struggling states remain trapped in low-wage, limited-opportunity cycles.
                    </li>
                    <li>
                        The stark contrast between Kuala Lumpur and Kelantan illustrates<br>
                        how economic opportunities cluster in already-prosperous regions, widening<br>
                        the development gap.
                    </li>
                </ul>
            </div>
        </div>

        <hr class divider>

        <div class="chart-pair">
            <!-- Headers on top -->
            <div class="chart-headers">
                <div class="chart-header-left">
                    <h3>INCOME vs UNEMPLOYMENT RELATIONSHIP</h3>
                </div>
                
                <div class="chart-header-right">
                    <h3>STATE PERFORMANCE vs NATIONAL AVERAGE</h3>
                    <div class="year-selector-single">
                        <label for="diverging-year">Select Year:</label>
                        <select id="diverging-year">
                            <option value="2012">2012</option>
                            <option value="2014">2014</option>
                            <option value="2016">2016</option>
                            <option value="2019">2019</option>
                            <option value="2022" selected>2022</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <!-- Combined chart container below headers -->
            <div id="combined-chart-container"></div>
            
            <div style="margin-top: 30px; padding: 20px; background: #f9f9f9; border-radius: 8px;">
                <div style="max-width: 800px; margin: 0 auto;">
                    <p style="font-size: 23px; text-align:center;"><strong>Key Insights:</strong></p>
                    <ul style="margin-left: 30px; text-align: left; color: #555; font-size: 20px; line-height: 1.8;">
                        <li style="margin-bottom: 15px;">Scatter plot shows the relationship between unemployment rates and income disparities.</li>
                        <li style="margin-bottom: 15px;">Diverging bar chart compares each state's median income differences from the national average.</li>
                        <li style="margin-bottom: 15px;">States in <span style="color: #feba28;">yellow</span> perform below the average, while states in <span style="color: #2bb1ff;">blue</span> perform above average.</li>
                        <li>National average calculated as the mean of all state median incomes.</li>
                    </ul>
                </div>
            </div>
        </div>

        <script src="combined.js"></script>

        <hr class divider>

        <h3>LABOUR FORCE PARTICIPATION RATE (%)</h3>
        <div style="margin-top: 30px; padding: 20px; background: #f9f9f9; border-radius: 8px;">
            <div style="max-width: 800px; margin: 0 auto;">
                <ul style="margin-left: 30px; text-align: left; color: #555; font-size: 20px; line-height: 1.8;">
                    <p style="margin-bottom: 15px;">Labour force participation rates reveal how effectively regions engage their working-age population.</p>
                    <p>Higher rates often indicate greater economic opportunities and inclusivity.</p>
                </ul>
            </div>
        </div>
        
        <div class="year-selector-single">
            <label for="sex-filter">Filter by Sex:</label>
            <select id="sex-filter">
                <option value="both" selected>Both</option>
                <option value="female">Female</option>
                <option value="male">Male</option>
            </select>
        </div>

        <div id="heatmap-chart"></div>
        <div id="line-chart"></div>

        
        <script src="heatmap.js"></script>
        <script src="linechart.js"></script>

        <hr class divider>

        <footer>
            <h4>Metadata</h4>
            <p>
                Government of Malaysia. (2023). 
                <em>Annual Principal Labour Force Statistics by State & Sex. </em>
                <a href="https://data.gov.my/data-catalogue/lfs_state_sex" target="_blank">
                    data.gov.my
                </a>
            </p>  
            <p>
                Department of Statistics Malaysia. (2022). 
                <em>Household Income by State </em>
                <a href="https://open.dosm.gov.my/data-catalogue/hh_income_state" target="_blank">
                    dosm.gov.my
                </a>
            </p>   

    </div>



    
</body>
</html>